# DYN-004: Unified Knowledge Fabric (DataPoints, Docs, and Organizational Retrieval)

**Initiative ID:** DYN-004  
**Status:** Planned  
**Phase:** Phase C (Dynamic Data Agent Foundation)  
**Last Updated:** 2026-02-20

---

## 1. Problem

Retrieval currently emphasizes DataPoints and selected context sources. A dynamic data agent needs a unified retrieval fabric spanning structured metadata, documents, and organizational knowledge.

## 2. Scope

In scope:

- Build multi-source retriever with rank fusion and provenance scoring.
- Add source-tier policy and conflict resolution for mixed evidence.
- Provide unified evidence objects to planner/verifier/answer synthesis.

Out of scope:

- Full-text indexing of arbitrary internet content.
- Autonomous source trust policy mutation.

## 3. Proposed Design

- Create retrieval adapters for DataPoints, docs/files, and org knowledge sources.
- Implement ranking strategy using relevance + confidence + freshness.
- Persist full evidence provenance for every selected source.

## 4. API and Contract Changes

- Define unified evidence contract with source_type and provenance fields.
- Extend answer metadata to include multi-source evidence breakdown.

## 5. Data Model and Storage Changes

- Add unified evidence index or adapter layer metadata.
- Store source confidence/freshness scores and relation links.

## 6. Safety and Policy

- Apply source-tier precedence and explicit conflict handling rules.
- Require evidence uncertainty annotations when sources disagree.

## 7. Acceptance Criteria

Functional:

- [ ] Retrieval supports combined DataPoint + docs + org evidence.
- [ ] Selected evidence includes full provenance and score rationale.

Quality:

- [ ] Mixed-source retrieval improves answer quality on benchmark set.
- [ ] Source conflict behavior is deterministic and test-covered.

## 8. Test Plan

- unit: rank fusion, precedence, and conflict resolver tests.
- integration: mixed-source retrieval scenarios across representative domains.
- manual: inspect evidence selection for prompts requiring doc + data context.

## 9. Rollout and Rollback

Rollout:

- Enable mixed retrieval in shadow mode and compare against current retriever.

Rollback:

- Revert to current DataPoint-first retriever while keeping adapter code disabled.

## 10. Open Questions

- Which source tiers should dominate when confidence scores are similar?
- How should stale but high-relevance documents be treated?
