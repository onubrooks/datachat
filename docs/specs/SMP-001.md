# SMP-001: Thin Simple Entry Layer Wrappers

**Initiative ID:** SMP-001  
**Status:** Planned  
**Phase:** Phase A (Foundation Stabilization)  
**Last Updated:** 2026-02-20

---

## 1. Problem

New users face setup and first-query friction even though core runtime exists. A guided wrapper is needed without altering retrieval or routing semantics.

## 2. Scope

In scope:

- Add lightweight quickstart wrappers around existing commands and flows.
- Provide guided defaults for first-time setup and metadata sync.
- Keep runtime behavior identical to existing truth paths.

Out of scope:

- New semantic routing behavior.
- New planner logic or bypass of policy checks.

## 3. Proposed Design

- Build wrapper commands/UI actions that orchestrate existing APIs.
- Add clear progress and failure messaging for onboarding steps.
- Keep all execution delegated to existing deterministic paths.

## 4. API and Contract Changes

- No new core runtime contract required.
- Optional wrapper endpoint/CLI alias documentation updates.

## 5. Data Model and Storage Changes

- No primary schema changes.
- Optional local state for onboarding completion hints.

## 6. Safety and Policy

- Wrappers must enforce existing policy checks and approvals.
- No hidden fallback behavior that changes target database selection.

## 7. Acceptance Criteria

Functional:

- [ ] New users can complete setup and first successful query using wrapper path.
- [ ] Wrapper path outputs equivalent result traces to direct command path.

Quality:

- [ ] No regression in routing or retrieval eval suites.
- [ ] Wrapper behavior is reversible/configurable.

## 8. Test Plan

- unit: wrapper argument mapping tests.
- integration: end-to-end onboarding run through wrapper and direct paths.
- manual: first-time user script execution on clean environment.

## 9. Rollout and Rollback

Rollout:

- Ship wrappers behind feature flag and monitor first-query success.

Rollback:

- Disable wrappers while preserving underlying command functionality.

## 10. Open Questions

- Which wrapper steps are mandatory vs optional?
- Should onboarding hints be persisted per user profile?
